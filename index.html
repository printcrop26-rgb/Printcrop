<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>printcrop – Free Label Tool</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,sans-serif}
body{background:linear-gradient(180deg,#0b1e2d,#0f2f46);color:#fff;min-height:100vh}

/* ===== LAYOUT ===== */
header{
  background:#fff;color:#000;padding:14px;text-align:center;
  border-radius:0 0 20px 20px;
  position:sticky;top:0;z-index:50
}
h1{color:#1e3a8a;font-size:24px}

.container{max-width:480px;margin:auto;padding:20px}
.card{
  background:#fff;color:#000;border-radius:18px;
  padding:20px;margin-top:20px;
  box-shadow:0 10px 25px rgba(0,0,0,.3)
}

/* ===== COMPANIES ===== */
.company{
  border:2px solid #e5e7eb;border-radius:14px;
  padding:14px;text-align:center;
  margin-bottom:10px;cursor:pointer;
  font-weight:600;transition:.2s
}
.company.active{
  border-color:#2da4ff;background:#f0f9ff;color:#2da4ff
}

/* ===== OPTIONS ===== */
.options{display:flex;gap:10px;margin:16px 0}
.options label{
  flex:1;border:2px solid #e5e7eb;
  padding:12px;text-align:center;
  border-radius:999px;cursor:pointer;font-weight:600
}
input[type=radio]{display:none}
input[type=radio]:checked+label{
  border-color:#2da4ff;background:#f0f9ff;color:#2da4ff
}

/* ===== UPLOAD ===== */
.upload{
  border:2px dashed #94a3b8;padding:25px;
  text-align:center;border-radius:14px;
  margin-bottom:16px;background:#f8fafc
}

/* ===== BUTTON ===== */
button{
  width:100%;
  background:linear-gradient(135deg,#2563eb,#38bdf8);
  color:#fff;padding:18px;font-size:18px;
  font-weight:700;border:none;border-radius:14px;
  cursor:pointer
}
button:active{transform:scale(.97)}

/* ===== SAFE ADS ===== */
.ad-slot{
  width:100%;min-height:90px;
  margin:22px 0;
  display:flex;align-items:center;justify-content:center;
  pointer-events:none
}
.ad-box{
  width:100%;max-width:480px;height:90px;
  border:2px dashed #94a3b8;border-radius:12px;
  opacity:.6;font-size:14px;color:#475569;
  display:flex;align-items:center;justify-content:center
}
.ad-gap img{
  width:100%;border-radius:14px;margin:16px 0
}

/* Tool must stay above ads */
.tool-container{position:relative;z-index:10}
footer{text-align:center;opacity:.6;font-size:12px;margin:30px 0}
</style>
</head>

<body>

<header>
  <h1>printcrop
    <span style="font-size:12px;background:#dcfce7;color:#166534;
    padding:4px 8px;border-radius:20px;margin-left:8px">100% Free</span>
  </h1>
</header>

<!-- TOP AD -->
<div class="ad-slot"><div class="ad-box">Top Ad Slot</div></div>
<div class="ad-gap">
  <img src="https://via.placeholder.com/480x120?text=PrintCrop+Label+Tool">
</div>

<!-- TOOL -->
<div class="container tool-container">
  <div class="card">

    <h3>Select Company</h3>
    <div class="company" data-c="Amazon">Amazon</div>
    <div class="company" data-c="Flipkart">Flipkart</div>
    <div class="company" data-c="Meesho">Meesho</div>

    <h3 style="margin-top:25px">Select Print Type</h3>
    <div class="options">
      <input type="radio" id="a4" name="p" checked>
      <label for="a4">A4 Sheet</label>

      <input type="radio" id="lp" name="p">
      <label for="lp">Label Printer</label>
    </div>

    <div class="upload">
      <b style="font-size:18px">Upload Label PDF</b><br>
      <input type="file" id="pdf" accept="application/pdf">
    </div>

    <button id="download">Download Final PDF</button>
  </div>
</div>

<!-- MIDDLE AD -->
<div class="ad-gap">
  <img src="https://via.placeholder.com/480x100?text=Fast+Secure+PDF+Processing">
</div>
<div class="ad-slot"><div class="ad-box">Middle Ad Slot</div></div>

<footer>©️ 2026 printcrop</footer>

<!-- BOTTOM AD -->
<div class="ad-slot"><div class="ad-box">Bottom Ad Slot</div></div>

<script>
const { PDFDocument } = PDFLib;
let selectedCompany=null;

document.querySelectorAll('.company').forEach(c=>{
  c.onclick=()=>{
    document.querySelectorAll('.company').forEach(x=>x.classList.remove('active'));
    c.classList.add('active');
    selectedCompany=c.dataset.c;
  }
});

document.getElementById('download').onclick=async()=>{
  if(!selectedCompany){alert("Select company");return;}
  const file=document.getElementById('pdf').files[0];
  if(!file){alert("Upload PDF");return;}

  const btn=document.getElementById('download');
  btn.innerText="Processing...";btn.disabled=true;

  const srcBytes=await file.arrayBuffer();
  const srcPdf=await PDFDocument.load(srcBytes);
  const outPdf=await PDFDocument.create();
  const pages=srcPdf.getPages();

  const W=595,H=842;
  let slot=0,page;

  for(let i=0;i<pages.length;i++){
    if(slot===0) page=outPdf.addPage([W,H]);

    const ep=await outPdf.embedPage(pages[i]);
    const scale=(H/2)/ep.height;

    const pos=[
      {x:0,y:H/2},
      {x:W/2,y:H/2},
      {x:0,y:0},
      {x:W/2,y:0}
    ];

    page.drawPage(ep,{
      x:pos[slot].x+(W/2-ep.width*scale)/2,
      y:pos[slot].y+(H/2-ep.height*scale)/2,
      xScale:scale,yScale:scale
    });

    slot++; if(slot===4) slot=0;
  }

  const bytes=await outPdf.save();
  const blob=new Blob([bytes],{type:"application/pdf"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download=`PrintCrop_${selectedCompany}.pdf`;
  a.click();

  btn.innerText="Download Final PDF";btn.disabled=false;
};
</script>

</body>
</html>
